# $OpenBSD: Makefile,v 1.3 2020/07/03 21:13:15 sthen Exp $

COMMENT =		markdown parser for docutils

MODPY_EGG_VERSION =	0.5.0
# Using github autogenerated tarball because pypi tarballs don't ship
# files needed by tests.
GH_ACCOUNT =		readthedocs
GH_PROJECT =		recommonmark
GH_TAGNAME =		${MODPY_EGG_VERSION}
PKGNAME =		py-recommonmark-${MODPY_EGG_VERSION}
REVISION =		0

CATEGORIES =		textproc devel

MAINTAINER =		Jeremie Courreges-Anglas <jca@wxcvbn.org>

# MIT
PERMIT_PACKAGE =	Yes

MODULES =		lang/python
MODPY_SETUPTOOLS =	Yes
MODPY_PYTEST =		Yes

RUN_DEPENDS =		textproc/py-commonmark${MODPY_FLAVOR} \
			textproc/py-docutils${MODPY_FLAVOR} \
			textproc/py-sphinx${MODPY_FLAVOR}

FLAVORS =		python3
FLAVOR ?=

post-install:
	for script in ${PREFIX}/bin/cm2*; do \
	    mv "$$script" "$$script"${MODPY_BIN_SUFFIX}; \
	done

.include <bsd.port.mk>
