# $OpenBSD: Makefile,v 1.2 2021/02/21 09:19:07 semarie Exp $

BROKEN-sparc64 = ring-0.6.19 does not build on sparc64

COMMENT =	command line BitWarden client

DISTNAME =	rbw-0.5.2

REVISION =	0

CATEGORIES =	security

MASTER_SITES =	https://git.tozt.net/rbw/snapshot/

MAINTAINER =	Aaron Bieber <abieber@openbsd.org>

# MIT X11
PERMIT_PACKAGE =	Yes

WANTLIB += c c++abi crypto m pthread ssl

DISTFILES +=		${DISTNAME}${EXTRACT_SUFX}

MODULES =		devel/cargo

CONFIGURE_STYLE =	cargo
SEPARATE_BUILD =	Yes

MODCARGO_CRATES +=	addr2line	0.14.0
MODCARGO_CRATES +=	adler	0.2.3
MODCARGO_CRATES +=	aes	0.5.0
MODCARGO_CRATES +=	aes-soft	0.5.0
MODCARGO_CRATES +=	aesni	0.8.0
MODCARGO_CRATES +=	aho-corasick	0.7.15
MODCARGO_CRATES +=	ansi_term	0.11.0
MODCARGO_CRATES +=	anyhow	1.0.34
MODCARGO_CRATES +=	arrayref	0.3.6
MODCARGO_CRATES +=	arrayvec	0.5.2
MODCARGO_CRATES +=	async-trait	0.1.42
MODCARGO_CRATES +=	atty	0.2.14
MODCARGO_CRATES +=	autocfg	1.0.1
MODCARGO_CRATES +=	backtrace	0.3.55
MODCARGO_CRATES +=	base32	0.4.0
MODCARGO_CRATES +=	base64	0.13.0
MODCARGO_CRATES +=	bitflags	1.2.1
MODCARGO_CRATES +=	blake2b_simd	0.5.11
MODCARGO_CRATES +=	block-cipher	0.8.0
MODCARGO_CRATES +=	block-modes	0.6.1
MODCARGO_CRATES +=	block-padding	0.2.1
MODCARGO_CRATES +=	boxfnonce	0.1.1
MODCARGO_CRATES +=	bumpalo	3.4.0
MODCARGO_CRATES +=	byte-tools	0.1.3
MODCARGO_CRATES +=	byteorder	1.3.4
MODCARGO_CRATES +=	bytes	0.5.6
MODCARGO_CRATES +=	cc	1.0.65
MODCARGO_CRATES +=	cfg-if	0.1.10
MODCARGO_CRATES +=	cfg-if	1.0.0
MODCARGO_CRATES +=	chbs	0.0.10
MODCARGO_CRATES +=	clap	2.33.3
MODCARGO_CRATES +=	console_error_panic_hook	0.1.6
MODCARGO_CRATES +=	constant_time_eq	0.1.5
MODCARGO_CRATES +=	core-foundation	0.9.1
MODCARGO_CRATES +=	core-foundation-sys	0.8.2
MODCARGO_CRATES +=	crossbeam-utils	0.8.1
MODCARGO_CRATES +=	crypto-mac	0.3.0
MODCARGO_CRATES +=	daemonize	0.4.1
MODCARGO_CRATES +=	darling	0.10.2
MODCARGO_CRATES +=	darling_core	0.10.2
MODCARGO_CRATES +=	darling_macro	0.10.2
MODCARGO_CRATES +=	derive_builder	0.9.0
MODCARGO_CRATES +=	derive_builder_core	0.9.0
MODCARGO_CRATES +=	digest	0.5.2
MODCARGO_CRATES +=	digest-buffer	0.3.1
MODCARGO_CRATES +=	directories	3.0.1
MODCARGO_CRATES +=	dirs-sys	0.3.5
MODCARGO_CRATES +=	doc-comment	0.3.3
MODCARGO_CRATES +=	encoding_rs	0.8.26
MODCARGO_CRATES +=	env_logger	0.7.1
MODCARGO_CRATES +=	failure	0.1.8
MODCARGO_CRATES +=	failure_derive	0.1.8
MODCARGO_CRATES +=	fake-simd	0.1.2
MODCARGO_CRATES +=	fnv	1.0.7
MODCARGO_CRATES +=	foreign-types	0.3.2
MODCARGO_CRATES +=	foreign-types-shared	0.1.1
MODCARGO_CRATES +=	form_urlencoded	1.0.0
MODCARGO_CRATES +=	fuchsia-zircon	0.3.3
MODCARGO_CRATES +=	fuchsia-zircon-sys	0.3.3
MODCARGO_CRATES +=	futures-channel	0.3.8
MODCARGO_CRATES +=	futures-core	0.3.8
MODCARGO_CRATES +=	futures-io	0.3.8
MODCARGO_CRATES +=	futures-sink	0.3.8
MODCARGO_CRATES +=	futures-task	0.3.8
MODCARGO_CRATES +=	futures-util	0.3.8
MODCARGO_CRATES +=	generic-array	0.7.3
MODCARGO_CRATES +=	generic-array	0.14.4
MODCARGO_CRATES +=	getrandom	0.1.15
MODCARGO_CRATES +=	gimli	0.23.0
MODCARGO_CRATES +=	h2	0.2.7
MODCARGO_CRATES +=	hashbrown	0.9.1
MODCARGO_CRATES +=	heck	0.3.1
MODCARGO_CRATES +=	hermit-abi	0.1.17
MODCARGO_CRATES +=	hmac	0.1.1
MODCARGO_CRATES +=	http	0.2.1
MODCARGO_CRATES +=	http-body	0.3.1
MODCARGO_CRATES +=	httparse	1.3.4
MODCARGO_CRATES +=	httpdate	0.3.2
MODCARGO_CRATES +=	humantime	1.3.0
MODCARGO_CRATES +=	humantime	2.0.1
MODCARGO_CRATES +=	hyper	0.13.9
MODCARGO_CRATES +=	hyper-tls	0.4.3
MODCARGO_CRATES +=	ident_case	1.0.1
MODCARGO_CRATES +=	idna	0.2.0
MODCARGO_CRATES +=	indexmap	1.6.0
MODCARGO_CRATES +=	iovec	0.1.4
MODCARGO_CRATES +=	ipnet	2.3.0
MODCARGO_CRATES +=	itoa	0.4.6
MODCARGO_CRATES +=	js-sys	0.3.46
MODCARGO_CRATES +=	kernel32-sys	0.2.2
MODCARGO_CRATES +=	lazy_static	1.4.0
MODCARGO_CRATES +=	libc	0.2.80
MODCARGO_CRATES +=	log	0.4.11
MODCARGO_CRATES +=	mach	0.3.2
MODCARGO_CRATES +=	matches	0.1.8
MODCARGO_CRATES +=	memchr	2.3.4
MODCARGO_CRATES +=	mime	0.3.16
MODCARGO_CRATES +=	mime_guess	2.0.3
MODCARGO_CRATES +=	miniz_oxide	0.4.3
MODCARGO_CRATES +=	mio	0.6.23
MODCARGO_CRATES +=	mio-named-pipes	0.1.7
MODCARGO_CRATES +=	mio-uds	0.6.8
MODCARGO_CRATES +=	miow	0.2.2
MODCARGO_CRATES +=	miow	0.3.6
MODCARGO_CRATES +=	native-tls	0.2.6
MODCARGO_CRATES +=	net2	0.2.36
MODCARGO_CRATES +=	nix	0.19.1
MODCARGO_CRATES +=	nodrop	0.1.14
MODCARGO_CRATES +=	num_cpus	1.13.0
MODCARGO_CRATES +=	oath	0.10.2
MODCARGO_CRATES +=	object	0.22.0
MODCARGO_CRATES +=	once_cell	1.5.2
MODCARGO_CRATES +=	opaque-debug	0.3.0
MODCARGO_CRATES +=	openssl	0.10.30
MODCARGO_CRATES +=	openssl-probe	0.1.2
MODCARGO_CRATES +=	openssl-sys	0.9.58
MODCARGO_CRATES +=	paw	1.0.0
MODCARGO_CRATES +=	paw-attributes	1.0.2
MODCARGO_CRATES +=	paw-raw	1.0.0
MODCARGO_CRATES +=	percent-encoding	2.1.0
MODCARGO_CRATES +=	pin-project	0.4.27
MODCARGO_CRATES +=	pin-project	1.0.2
MODCARGO_CRATES +=	pin-project-internal	0.4.27
MODCARGO_CRATES +=	pin-project-internal	1.0.2
MODCARGO_CRATES +=	pin-project-lite	0.1.11
MODCARGO_CRATES +=	pin-project-lite	0.2.0
MODCARGO_CRATES +=	pin-utils	0.1.0
MODCARGO_CRATES +=	pkg-config	0.3.19
MODCARGO_CRATES +=	ppv-lite86	0.2.10
MODCARGO_CRATES +=	proc-macro-error	1.0.4
MODCARGO_CRATES +=	proc-macro-error-attr	1.0.4
MODCARGO_CRATES +=	proc-macro2	1.0.24
MODCARGO_CRATES +=	quick-error	1.2.3
MODCARGO_CRATES +=	quote	1.0.7
MODCARGO_CRATES +=	rand	0.7.3
MODCARGO_CRATES +=	rand_chacha	0.2.2
MODCARGO_CRATES +=	rand_core	0.5.1
MODCARGO_CRATES +=	rand_hc	0.2.0
MODCARGO_CRATES +=	redox_syscall	0.1.57
MODCARGO_CRATES +=	redox_users	0.3.5
MODCARGO_CRATES +=	regex	1.4.2
MODCARGO_CRATES +=	regex-syntax	0.6.21
MODCARGO_CRATES +=	remove_dir_all	0.5.3
MODCARGO_CRATES +=	reqwest	0.10.9
MODCARGO_CRATES +=	ring	0.16.19
MODCARGO_CRATES +=	rust-argon2	0.8.3
MODCARGO_CRATES +=	rustc-demangle	0.1.18
MODCARGO_CRATES +=	rustc-hex	1.0.0
MODCARGO_CRATES +=	ryu	1.0.5
MODCARGO_CRATES +=	schannel	0.1.19
MODCARGO_CRATES +=	scoped-tls	1.0.0
MODCARGO_CRATES +=	security-framework	2.0.0
MODCARGO_CRATES +=	security-framework-sys	2.0.0
MODCARGO_CRATES +=	serde	1.0.117
MODCARGO_CRATES +=	serde_derive	1.0.117
MODCARGO_CRATES +=	serde_json	1.0.59
MODCARGO_CRATES +=	serde_path_to_error	0.1.3
MODCARGO_CRATES +=	serde_urlencoded	0.7.0
MODCARGO_CRATES +=	sha-1	0.3.4
MODCARGO_CRATES +=	sha2	0.5.3
MODCARGO_CRATES +=	signal-hook-registry	1.2.2
MODCARGO_CRATES +=	slab	0.4.2
MODCARGO_CRATES +=	snafu	0.6.9
MODCARGO_CRATES +=	snafu-derive	0.6.9
MODCARGO_CRATES +=	socket2	0.3.17
MODCARGO_CRATES +=	spin	0.5.2
MODCARGO_CRATES +=	strsim	0.8.0
MODCARGO_CRATES +=	strsim	0.9.3
MODCARGO_CRATES +=	structopt	0.3.21
MODCARGO_CRATES +=	structopt-derive	0.4.14
MODCARGO_CRATES +=	syn	1.0.53
MODCARGO_CRATES +=	synstructure	0.12.4
MODCARGO_CRATES +=	tempfile	3.1.0
MODCARGO_CRATES +=	term_size	0.3.2
MODCARGO_CRATES +=	termcolor	1.1.2
MODCARGO_CRATES +=	textwrap	0.11.0
MODCARGO_CRATES +=	textwrap	0.12.1
MODCARGO_CRATES +=	thread_local	1.0.1
MODCARGO_CRATES +=	tinyvec	1.1.0
MODCARGO_CRATES +=	tinyvec_macros	0.1.0
MODCARGO_CRATES +=	tokio	0.2.23
MODCARGO_CRATES +=	tokio-macros	0.2.6
MODCARGO_CRATES +=	tokio-tls	0.3.1
MODCARGO_CRATES +=	tokio-util	0.3.1
MODCARGO_CRATES +=	tower-service	0.3.0
MODCARGO_CRATES +=	tracing	0.1.22
MODCARGO_CRATES +=	tracing-core	0.1.17
MODCARGO_CRATES +=	tracing-futures	0.2.4
MODCARGO_CRATES +=	try-lock	0.2.3
MODCARGO_CRATES +=	typenum	1.12.0
MODCARGO_CRATES +=	unicase	2.6.0
MODCARGO_CRATES +=	unicode-bidi	0.3.4
MODCARGO_CRATES +=	unicode-normalization	0.1.16
MODCARGO_CRATES +=	unicode-segmentation	1.7.1
MODCARGO_CRATES +=	unicode-width	0.1.8
MODCARGO_CRATES +=	unicode-xid	0.2.1
MODCARGO_CRATES +=	untrusted	0.7.1
MODCARGO_CRATES +=	url	2.2.0
MODCARGO_CRATES +=	uuid	0.8.1
MODCARGO_CRATES +=	vcpkg	0.2.10
MODCARGO_CRATES +=	vec_map	0.8.2
MODCARGO_CRATES +=	version_check	0.9.2
MODCARGO_CRATES +=	want	0.3.0
MODCARGO_CRATES +=	wasi	0.9.0+wasi-snapshot-preview1
MODCARGO_CRATES +=	wasm-bindgen	0.2.69
MODCARGO_CRATES +=	wasm-bindgen-backend	0.2.69
MODCARGO_CRATES +=	wasm-bindgen-futures	0.4.19
MODCARGO_CRATES +=	wasm-bindgen-macro	0.2.69
MODCARGO_CRATES +=	wasm-bindgen-macro-support	0.2.69
MODCARGO_CRATES +=	wasm-bindgen-shared	0.2.69
MODCARGO_CRATES +=	wasm-bindgen-test	0.3.19
MODCARGO_CRATES +=	wasm-bindgen-test-macro	0.3.19
MODCARGO_CRATES +=	web-sys	0.3.46
MODCARGO_CRATES +=	winapi	0.2.8
MODCARGO_CRATES +=	winapi	0.3.9
MODCARGO_CRATES +=	winapi-build	0.1.1
MODCARGO_CRATES +=	winapi-i686-pc-windows-gnu	0.4.0
MODCARGO_CRATES +=	winapi-util	0.1.5
MODCARGO_CRATES +=	winapi-x86_64-pc-windows-gnu	0.4.0
MODCARGO_CRATES +=	winreg	0.7.0
MODCARGO_CRATES +=	ws2_32-sys	0.2.1
MODCARGO_CRATES +=	zeroize	1.1.1

.include <bsd.port.mk>
